
<% page_name 'My Uploads' %>

<div class="main">
  
  <h2>My Uploads</h2>

  <table class="browse wide user_history">
    <tr>
      <td class="header">
        &nbsp;
      </td>
      <td width="99%" colspan="2" class="<%= table_header_css_class 'name' %>">
        <%= table_header_link 'Name', 'name', @torrents %>
      </td>
      <td class="<%= table_header_css_class 'created_at' %>">
        <%= table_header_link 'Added', 'created_at', @torrents %>
      </td>
      <td class="<%= table_header_css_class 'size' %>">
        <%= table_header_link 'Size', 'size', @torrents %>
      </td>
      <td class="<%= table_header_css_class 'files_count' %>">
        <%= table_header_link 'Files', 'files_count', @torrents %>
      </td>
      <td class="<%= table_header_css_class 'comments_count' %>">
        <%= table_header_link image_tag('comments.png', :alt => 'Commented', :title => 'Commented'), 'comments_count', @torrents %>
      </td>
      <td class="<%= table_header_css_class 'snatches_count' %>">
        <%= table_header_link image_tag('snatches.gif', :alt => 'Snatched', :title => 'Snatched'), 'snatches_count', @torrents %>
      </td>
      <td class="<%= table_header_css_class 'seeders_count' %>">
        <%= table_header_link image_tag('seeders.png', :alt => 'Seeders', :title => 'Seeders'), 'seeders_count', @torrents %>
      </td>
      <td class="<%= table_header_css_class 'leechers_count' %>">
        <%= table_header_link image_tag('leechers.png', :alt => 'Leechers', :title => 'Leechers'), 'leechers_count', @torrents %>
      </td>
    </tr>
    <% unless @torrents.blank? %>
      <% @torrents.each do |t| %>
        <tr>
          <td class="no_padding">
            <%= type_label t.type %>
          </td>
          <td class="left no_right_border">
            <%= torrent_link t, :browse %>
            <%= torrent_additional_info t %>
          </td>
          <td class="torrent_download_bookmark">
            <div class="float_right">
              <ul class="compact">
                <li><%= torrent_download_link t %></li>
              </ul>
            </div>
          </td>
          <td class="no_wrap">
            <%= textual_time_interval t.created_at, 'ago' %>
          </td>
          <td class="no_wrap">
            <%= textual_data_amount t.size %>
          </td>
          <td>
            <%= t.files_count %>
          </td>
          <td>
            <%= t.comments_count %>
          </td>
          <td>
            <%= t.snatches_count %>
          </td>
          <td class="<%= 'torrent_no_seeders' if t.seeders_count == 0 %>">
            <%= t.seeders_count %>
          </td>
          <td>
            <%= t.leechers_count %>
          </td>
        </tr>
      <% end %>
    <% else %>
      <tr>
        <td colspan="10">
          No torrents found.
        </td>
      </tr>
    <% end %>
  </table>

  <%= will_paginate @torrents %>
</div>
